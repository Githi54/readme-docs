---
/**
 * LiveDemo — Landing page section that shows how the product works.
 *
 * Layout:
 *   Left  → GeneratorDemo  (mimics the real /generate page)
 *   Right → DocsPreview    (iframe of generated docs site)
 *
 * Sub-components live in `@/components/landing/live-demo/`.
 */
import GeneratorDemo from "@/components/landing/live-demo/GeneratorDemo.astro";
import DocsPreview from "@/components/landing/live-demo/DocsPreview.astro";
---

<section class="py-24 relative overflow-hidden">
    <!-- Background decorations -->
    <div
        class="absolute inset-0 bg-[#0B0C10] skew-y-3 origin-top-left transform scale-110"
    >
    </div>
    <div
        class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-indigo-500/10 rounded-full blur-[120px]"
    >
    </div>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
        <!-- Section heading -->
        <div class="text-center mb-16">
            <h2
                class="text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white to-gray-400 sm:text-4xl"
            >
                See It in Action
            </h2>
            <p class="mt-4 text-gray-400 text-lg">
                Paste a repo URL, and watch your documentation appear in
                seconds.
            </p>
        </div>

        <!-- Two-panel demo -->
        <div
            class="grid lg:grid-cols-2 gap-8 lg:gap-12 items-stretch"
            style="min-height: 520px;"
        >
            <!-- Left: Generator Interface -->
            <GeneratorDemo />

            <!-- Right: Docs Result -->
            <DocsPreview />
        </div>

        <!-- Caption -->
        <p class="mt-6 text-center text-xs text-gray-600">
            ↑ This is a live preview of our generated docs for <a
                href="/docs/facebook/react/overview"
                class="text-indigo-500 hover:text-indigo-400 transition-colors underline underline-offset-2"
                >facebook/react</a
            >.
        </p>
    </div>
</section>

<style is:global>
    .custom-scrollbar::-webkit-scrollbar {
        width: 4px;
    }
    .custom-scrollbar::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, 0.05);
    }
    .custom-scrollbar::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.1);
        border-radius: 10px;
    }

    @keyframes fade-in-up {
        from {
            opacity: 0;
            transform: translateY(10px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .animate-fade-in-up {
        animation: fade-in-up 0.5s ease-out forwards;
    }
</style>
